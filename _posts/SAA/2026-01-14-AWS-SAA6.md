---
layout: post
title: " 6.AWS(SAA) - AWS Fundamentals : RDS + Aurora + ElastiCache (Eng.ver) "
date: 2026-01-14
categories:
  - "Certification/AWS SAA"
---

#### Reference
- [Udemy – AWS Certified Solutions Architect Associate (SAA-C03)](https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/?couponCode=CP251120G2)

# 1. Amazon RDS Overview
## Amazon RDS Overview
- RDS stands for Relational Database Service
- It's a managed DB service for DB use SQL as a query language
- It allows you to create databases in the cloud that are managed by AWS
  - Postgres
  - MySQL
  - MariaDB
  - Oracle
  - Microsoft SQL Server
  - IBM DB2
  - Aurora (AWS Proprietary Database)

## Advantage over using RDS versus deploying DB on EC2
- RDS is a managed service : 
  - Automated provisioning, OS patching
  - Continuous backups and restore to specific timestamp (Point in Time Restore)
  - Monitoring dashboards
  - Read replicas for improved read performance
  - Multi AZ setup for DR (Disaster Recovery)
  - Maintenance windows for upgrades
  - Scaling capability (vertical and horizontal)
  - Storage backed by EBS
- BUT you can't SSH into your instances

## RDS - Storage Auto Scaling
- Hepls you increase storage on your RDS DB instance dynamically
- When RDS detects you are running out od free database storage, it scales automatically
- Avoid manually scaling your database storage
- You have to set Maximum Storage Threshold (maximum limit for DB storage)
- Automatically modify storage if : 
  - Free stroage is less than 10% of allocated storage
  - Low-storage lasts at least 5 minutes
  - 6 hours have passed since last modification
- Useful for applicatins with unpredictable workloads
- Support all RDS database engines

<img src="{{ '/assets/img/images/aws/RDSStorageAutoScaling.png' | relative_url }}" alt="스크린샷" width="300"> 

# 2. RDS Read Replicas vs Multi AZ
## RDS Read Replicas for read scalability
- Up to 15 Read Replicas
- Within AZ, Cross AZ or Cross Region
- Replication is ASYNC, so reads are eventually consistent
- Replicas can be promoted to their own DB
- Applications must update the connection string to leverage read replicas

<img src="{{ '/assets/img/images/aws/RDSREADREplicas for read scalability.png' | relative_url }}" alt="스크린샷" width="300"> 

## RDS Read Replicas - Use Cases
- You have a production database that is taking on normal load
- You want to run a reporting application to run some analytics
- You create a Read Replica to run the new workload there
- The production application is unaffected
- Read replicas are used for SELECT (= read) only kind of statements (not INSERT, UPDATE, DELETE)

<img src="{{ '/assets/img/images/aws/RDSREADREplicas-UseCases.png' | relative_url }}" alt="스크린샷" width="300"> 

## RDS Read Replicas - Network Cost
- In AWS there's a network cost when data goes from one AZ to another
- For RDS Read Replicas within the same region, you don't pay that fee

<img src="{{ '/assets/img/images/aws/RDSREADREplicas-NetworkCost.png' | relative_url }}" alt="스크린샷" width="300"> 

## RDS Multi AZ (Disaster Recovery)
- SYNC replication
- One DNS name - automatic app failover to standby
- Increase availability
- Failover in case of loss of AZ, loss of network, instance or storage failure
- No manual intervention in apps
- Not used for scaling

- Note : The Read Replicas be setup as Multi AZ for Disaster Recovery (DR)

<img src="{{ '/assets/img/images/aws/RDSMultiAZ-DisasterRecovery.png' | relative_url }}" alt="스크린샷" width="300"> 

## RDS - From Single - AZ to Multi - AZ
- Zero downtime operation (no need to stop the DB)
- Just click on "modify" for the database
- The following happens internally :
  - A snapshot is taken
  - A new DB is restored from the snapshot in a new AZ
  - synchronization is established between the two databases

<img src="{{ '/assets/img/images/aws/RDS-FromSingle-AZtoMulti-AZ.png' | relative_url }}" alt="스크린샷" width="300"> 

# 3. RDS Custom for Oracle and Microsoft SQL Server
## RDS custom
- Managed Oracle and Microsoft SQL Server Database with OS and database customization
- RDS : Automates setup, operation, and scaling of database in AWS
- Custom : access to the underlying database and OS so you can
  - Configure setting
  - Install patches
  - Enable native features
  - Access the inderlying EC2 Instance using SSH or SSM Session Manager
- De-activate Automation Mode to perform your customization, better to take a DB snapshot before
- RDS vs RDS Custom
  - RDS : entire database and the OS to be managed by AWS
  - RDS Custom : full admin access to the underlying OS and the database

<img src="{{ '/assets/img/images/aws/RDSCustom.png' | relative_url }}" alt="스크린샷" width="300"> 

# 4. Amazon Aurora
## Amazon Aurora
- Aurora is a proprietary technology from AWS (not open sourced)
- Postgres and MySQL are both supported as Aurora DB (that means your drivers will work as if Aurora was a Postgres or MySQL database)
- Aurora is "AWS clod optimized" and claims 5x performance improvement over MySQL on RDS, over 3x the performance of Postgres on RDS
- Aurora storage automatically grows in increments of 10GB, up to 256 TB
- Aurora can have up to 15 replicas and the replication process is faster than MySQL (sub 10 ms replica lag)
- Failover in Aurora is instantaneous It's HA native
- Aurora costs more than RDS (20% more) - but is more efficient

## Aurora High Availability and REad Scaling
- 6 copies of your data across 3 AZ : 
  - 4 copies out of 6 needed for writes
  - 3 copies out of 6 need for reads
  - Self healing with peer-to-peer replication
  - Storage is striped across 100s of volumes
- One Aurora Instance takes writes (master)
- Automated failover for master in less than 30 seconds
- Master + up to 15 Aurora Read Replicas serve reads
- Support for Cross Region Replication

<img src="{{ '/assets/img/images/aws/AuroraHighAvailabilityandReadScaling.png' | relative_url }}" alt="스크린샷" width="300"> 

## Aurora DB Cluster

<img src="{{ '/assets/img/images/aws/AuroraDBCluster.png' | relative_url }}" alt="스크린샷" width="300"> 

## Feature of Aurora
- Automatic fail-over
- Backup and Recovery
- Isolation and Security
- Industry compliance
- Push-button scaling
- Automated Patching with Zero Downtime
- Advanced Monitoring
- Routine Maintenance
- Backtrack : restore data at any point of time without using backups

# 5. Amazon Aurora - advanced Concepts
## Amazon Aurora - Auto Scaling

<img src="{{ '/assets/img/images/aws/AuroraReplicas-AutoScaling.png' | relative_url }}" alt="스크린샷" width="300"> 

## Aurora - Custom Endpoints
- Define a subnet of Aurora Instances as a Custom Endpoint
- Example : Run analytical queries on specific replicas
- The Reader Endpoint is generally not used after defining Custom Endpoints

<img src="{{ '/assets/img/images/aws/Aurora-CustomEndpoint.png' | relative_url }}" alt="스크린샷" width="300"> 

## Aurora Serverless
- Automated database instantitation and auto-scaling based on actual usage
- Good for infrequent, intermittent or unpredictable workloads
- No capacity planning needed
- Pay per second, can be more cost-effective

<img src="{{ '/assets/img/images/aws/AuroraServerless.png' | relative_url }}" alt="스크린샷" width="300"> 

## Global Aurora
- Aurora Cross Region Read Replicas : 
  - Useful for disaster recovery
  - Simple to put in place
- Aurora Global Database (recommended) :
  - I Primary Region (read / write)
  - Up to 10 secondary (read-only) regions, replication lag is less than 1 second
  - Up to 16 Read Replicas per secondary region
  - Helps for decreasing latency
  - Promoting another region (for disaster recovery) has an RTO of < 1 minute
  - Typical cross-region replication takes less than 1 second

  <img src="{{ '/assets/img/images/aws/GlobalAurora.png' | relative_url }}" alt="스크린샷" width="300"> 

  ## Aurora Machine Learning
  - Enable you to add ML-based predictions to your applications via SQL
  - Simple, optimized, add secure integration between Aurora and AWS ML services
  - Supported services
    - Amazon SageMaker (use with any ML model)
    - Amazon Comprehend (for sentiment analysis)
  - You don't need to have ML experience
  - Use cases : fraud detection, ads targeting, sentiment analysis, product recommendations

<img src="{{ '/assets/img/images/aws/AuroraMachineLearning.png' | relative_url }}" alt="스크린샷" width="300"> 

## Babelfish for Aurora PostgreSQL
- Allows Aurora PostgreSQL to understand commands targeted for MS SQL Server